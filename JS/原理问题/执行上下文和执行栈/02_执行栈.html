<!--
 * @Description: 
 * @Autor: Leon
 * @Date: 2019-12-23 16:45:13
 * @LastEditors: Leon
 * @LastEditTime: 2019-12-23 16:54:57
 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

</body>

</html>

<script>
    // https://juejin.im/post/5ba32171f265da0ab719a6d7
    /* 
        什么是执行上下文？

        执行上下文的类型
            执行栈

            怎么创建执行上下文？

            The Creation Phase
                1. This 绑定：
                2. 词法环境
                3. 变量环境：

            执行阶段
            
            结论
    */
    /* 
        1. 当上述代码在浏览器加载时，JavaScript 引擎创建了一个全局执行上下文并把它压入当前执行栈。
        当遇到 first() 函数调用时，JavaScript 引擎为该函数创建一个新的执行上下文并把它压入当前执行栈的顶部。

        2. 当从 first() 函数内部调用 second() 函数时，JavaScript 引擎为 second() 函数创建了一个新的执行上下文并把它压入当前执行栈的顶部。
        当 second() 函数执行完毕，它的执行上下文会从当前栈弹出，并且控制流程到达下一个执行上下文，即 first() 函数的执行上下文。

        3. 当 first() 执行完毕，它的执行上下文从栈弹出，控制流程到达全局执行上下文。
        一旦所有代码执行完毕，JavaScript 引擎从当前栈中移除全局执行上下文。
    */
    let a = "leon";

    function first() {
        console.log('Inside first function');
        second();
        console.log('Again inside first function');
    }

    function second() {
        console.log('Inside second function');
    }

    first();
    console.log('Inside Global Execution Context');
</script>